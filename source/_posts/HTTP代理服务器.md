---
title: HTTP代理服务器
date: 2019-03-10 20:20:53
tags:
- HTTP
- 网络
- Linux高性能服务器编程
---

## HTTP代理服务器工作原理

代理服务器的作用是实现对目标资源的中转访问，一般部署在客户端和目标服务器之间。

按照使用方式和作用分为：正向代理服务器、反向代理服务器、透明代理服务器

代理服务器通常提供缓存目标资源的功能，这样用户下次访问同一资源时速度会很快。

#### 正向代理

要求客户端自己设置代理服务器的地址。

客户端每次请求都直接发送到该代理服务器，并由代理服务器来请求目标资源。

比如处于局域网内的机器要访问Internet、访问一些被屏蔽掉的外网。

#### 反向代理

设置在服务器端，客户端无须进行任何设置。

用代理服务器来接收Internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从内部服务器得到的结果返回给客户端。这种情况下，代理服务器对外就表现为一个真实的服务器。

很多时候，ping同一个域名，有多个ip地址，这是因为设置了反向代理服务器。

![](/pic/代理服务器.png)

上图很形象得反映了两者的区别。

#### 透明代理

只能设置在网关。用户访问Internet的数据报必然要经过网关，如果在网关上设置了代理，则该代理对用户来说显然是透明的，透明代理可以看做正向代理的一种特殊情况。



#### 开源软件

squid、varnish都是提供了缓存能力的代理服务器软件‘

squid支持所有代理方式,varnish仅能做反向代理

#### 部署squid代理服务器

以后码上